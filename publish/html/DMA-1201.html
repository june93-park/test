<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>사업장그룹관리</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/css/swiper.css"
        integrity="sha512-rVfXYRlhHtd3C4PzoBxSaKhI/uYEi0/5K69RwK/cdxQld57PC6mZ7tkutR+KD96WrXZ6E/96qYeY4CVun7a0/w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="../resources/semantic/semantic.css" />
    <link rel="stylesheet" href="../resources/css/layout.css" />
    <link rel="stylesheet" href="../resources/css/contents.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="../resources/semantic/semantic.js"></script>
    <script src="../resources/js/sticky.js"></script>

    <!-- 데이터 테이블 사용 화면에서만 사용하는 css / js -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/dataTables.semanticui.min.css" />
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.semanticui.min.css" />
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/select/1.3.4/css/select.semanticui.min.css" />
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/datetime/1.1.2/css/dataTables.dateTime.min.css" />

    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/dataTables.semanticui.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.semanticui.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.3.4/js/dataTables.select.min.js"></script>
    <script src="https://cdn.datatables.net/datetime/1.1.2/js/dataTables.dateTime.min.js"></script>


</head>

<body class="iframe-contents">
    <div class="lg-contents size14">

        <div class="ui pointing secondary menu">
            <a class="item active">공통코드관리</a>
        </div>

        <div class="path-wrap">
            <ul class="path">
                <li>사업장관리</li>
                <li>공통코드관리</li>
            </ul>
            <div class="btn-group">
                <div class="ico-btn-wrap">
                    <a href="#none" class="ui basic icon button">
                        <i class="ico-manual">manual</i>
                    </a>
                    <div class="fav-toggle-wrap">
                        <input type="checkbox" id="fav" name="fav">
                        <label class="ui basic icon button" for="fav">
                            <i class="ico-fav"></i>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <div class="list-header">

            <div class="search-group">

                <div class="search-wrap">
                    <label for=''>사업장그룹/사업장</label>
                    <div class="search-cont">
                        <select name="gender" class="ui dropdown">
                            <option value=''>사업장 이름</option>
                            <option value="option1">사업장 이름1</option>
                            <option value="option2">사업장 이름2</option>
                        </select>
                        <select name="gender" class="ui dropdown">
                            <option value=''>사업장 이름</option>
                            <option value="option1">사업장 이름1</option>
                            <option value="option2">사업장 이름2</option>
                        </select>
                    </div>
                </div>

            </div>

            <div class="btn-group">
                <div class="btn-wrap">
                    <a href="#none" class="ui gray button" id="popup-new-code">신규</a>
                    <a href="#none" class="ui gray button">수정</a>
                    <a href="#none" class="ui gray button">삭제</a>
                    <a href="#none" class="ui gray button">엑셀 다운로드</a>
                </div>
            </div>

        </div>

        <div class="list-container">
            <div class="ui grid">
                <div class="seven wide column">
                    <table id="example" class="ui celled table" cellspacing="0" width="100%"></table>
                </div>

                <div id="max-height-div" class="nine wide column">

                    <div class="no-data">
                        좌측 코드를 선택해주세요.
                    </div>


                    <table id="example2" class="ui celled table" cellspacing="0" width="100%"></table>

                </div>
            </div>
        </div>

    </div>


    <!--popup-->

    <div class="ui modal mini" id="popup-new-code-view">
        <i class="close icon"></i>
        <div class="header">
            신규코드
        </div>
        <div class="scrolling content">
            
            <div class="label-form-2">
                <div class="row">
                    <div class="label-column">
                        <label for="">
                            코드
                        </label>
                    </div>
                    <div class="contents-column">
                        <div class="ui input w100p">
                            <!-- 수정모드일 때 readonly -->
                            <input type="text" placeholder="코드">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="label-column">
                        <label for="">
                            코드명
                        </label>
                    </div>
                    <div class="contents-column">
                        <div class="ui input w100p">
                            <input type="text" placeholder="코드명">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="label-column">
                        <label for="">
                            설명
                        </label>
                    </div>
                    <div class="contents-column">
                        <div class="ui input w100p">
                            <input type="text" placeholder="설명">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="label-column">
                        <label for="">
                            Remarks
                        </label>
                    </div>
                    <div class="contents-column">
                        <div class="ui input w100p">
                            <input type="text" placeholder="Remarks">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="label-column">
                        <label for="">
                            사용여부
                        </label>
                    </div>
                    <div class="contents-column">
                        <div class="ui input w100p">
                            <input type="text" placeholder="사용여부">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="label-column">
                        <label for="">
                            위치
                        </label>
                    </div>
                    <div class="contents-column">
                        <div class="ui input w100p">
                            <input type="text" placeholder="위치">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="actions">
            <div class="ui primary button">
                저장
            </div>
            <div class="ui secondary button">
                취소
            </div>
        </div>
    </div>

    <script>
        $('.dropdown').dropdown();

        $('#popup-new-code').on('click', function () {
            $('#popup-new-code-view').modal({
                inverted: true
            }).modal('show');
        });

        $(document).ready(function () {

            // 왼쪽 메인 테이블
            var leftTable = 'example';

            // 디테일에 들어가는 테이블
            var detailTable = 'example2';

            // 왼쪽 메인 테이블 데이터
            var table = $('#' + leftTable).DataTable({
                searching: false,
                lengthChange: false,
                scrollCollapse: true,
                "pageLength": 50,
                info: false,
                ajax: {
                    url: "./dummy/codeExample.php",
                    type: 'get'
                },
                columnDefs: [
                    {
                        searchable: false,
                        orderable: false,
                        targets: 0,
                    },
                ],
                order: [[1, 'asc']],
                columns: [{
                        data: 'no',
                        className:'center',
                        title: 'No.',
                        width: 40
                    },
                    {
                        data: 'categoryCode',
                        title: '분류코드',
                        width: 90
                    },
                    {
                        data: 'categoryName',
                        title: '분류명',
                    },
                    {
                        data: 'individ',
                        className:'center',
                        title: '사용여부',
                        width: 70
                    }
                ],
                select: true
            });

            table.on('order.dt search.dt', function () {
                let i = 1;
        
                table.cells(null, 0, { search: 'applied', order: 'applied' }).every(function (cell) {
                    this.data(i++);
                });
            }).draw();


            // 디테일 테이블 데이터
            var table2 = $('#' + detailTable).DataTable({
                searching: false,
                lengthChange: false,
                scrollCollapse: true,
                "pageLength": 50,
                info: false,
                ajax: {
                    url: "./dummy/codeDetailExample.php",
                    type: 'get'
                },
                columnDefs: [
                    {
                        searchable: false,
                        orderable: false,
                        targets: 0,
                    },
                ],
                order: [[1, 'asc']],
                columns: [{
                        data: null,
                        className: 'center',
                        title : '<div class="ui fitted checkbox">'
						+ '<input type="checkbox" name="">'
						+ '<label for=""></label>' + '</div>',
                        render: function (data,type,row) {
                            if (data == true) {
                                return '<div class="ui fitted checkbox"><input type="checkbox" checked><label for=""></label></div>';
                            } else {
                                return '<div class="ui fitted checkbox"><input type="checkbox"><label for=""></label></div>';
                            }
                            return data;
                        },
                        width: 27
                    },
                    {
                        data: 'code',
                        title: '코드',
                        width: 90
                    },
                    {
                        data: 'codeName',
                        title: '코드명',
                    },
                    {
                        data: 'desc',
                        title: '설명',
                    },
                    {
                        data: 'remarks',
                        className: 'center',
                        title: 'Remarks',
                        width: 70
                    },
                    {
                        data: 'individ',
                        className: 'center',
                        title: '사용여부',
                        width: 70
                    }
                ],
                select: true,
                "initComplete": function (settings, json) {

                }
            });
        });

    </script>

</body>

</html>